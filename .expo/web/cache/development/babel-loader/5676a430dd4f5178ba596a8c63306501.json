{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/hayk/Desktop/MentorApp/src/components/CurrentLocation.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport * as Location from 'expo-location';\nimport { useSelector, useDispatch } from 'react-redux';\nexport default function CurrentLocation() {\n  var _this = this;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      location = _useState2[0],\n      setLocation = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errorMsg = _useState4[0],\n      setErrorMsg = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      currentLocation = _useState6[0],\n      setCurrentLocation = _useState6[1];\n\n  var apiKey = 'AIzaSyCYCYv-9mClxXa24AqTjaPcm9qS9EW2Uuc';\n  var dispatch = useDispatch();\n  useEffect(function () {\n    (function _callee() {\n      var _await$Location$reque, status, location, geocode;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Location.requestForegroundPermissionsAsync());\n\n            case 2:\n              _await$Location$reque = _context.sent;\n              status = _await$Location$reque.status;\n\n              if (!(status !== 'granted')) {\n                _context.next = 7;\n                break;\n              }\n\n              setErrorMsg('Permission to access location was denied');\n              return _context.abrupt(\"return\");\n\n            case 7:\n              Location.setGoogleApiKey(apiKey);\n              _context.next = 10;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n            case 10:\n              location = _context.sent;\n              _context.next = 13;\n              return _regeneratorRuntime.awrap(Location.reverseGeocodeAsync(location.coords));\n\n            case 13:\n              geocode = _context.sent;\n              setLocation(location);\n              setCurrentLocation(geocode);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n  var text = 'Waiting..';\n\n  if (errorMsg) {\n    text = errorMsg;\n  } else if (location) {\n    text = JSON.stringify(location);\n  }\n\n  var userLocation = function userLocation() {\n    if (currentLocation) {\n      dispatch({\n        type: 'UPDATE_USER_INFORMATION',\n        value: {\n          location: currentLocation[0].city + '/' + currentLocation[0].country\n        }\n      });\n      return React.createElement(Text, {\n        style: styles.paragraph,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 7\n        }\n      }, currentLocation[0].city + '/' + currentLocation[0].country);\n    }\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, userLocation);\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20\n  },\n  paragraph: {\n    fontSize: 18,\n    textAlign: 'center'\n  }\n});","map":{"version":3,"sources":["/home/hayk/Desktop/MentorApp/src/components/CurrentLocation.js"],"names":["React","useState","useEffect","Location","useSelector","useDispatch","CurrentLocation","location","setLocation","errorMsg","setErrorMsg","currentLocation","setCurrentLocation","apiKey","dispatch","requestForegroundPermissionsAsync","status","setGoogleApiKey","getCurrentPositionAsync","reverseGeocodeAsync","coords","geocode","text","JSON","stringify","userLocation","type","value","city","country","styles","paragraph","container","StyleSheet","create","flex","alignItems","justifyContent","padding","fontSize","textAlign"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Platform, Text, View, StyleSheet } from 'react-native';\nimport * as Location from 'expo-location';\nimport { useSelector, useDispatch} from 'react-redux'\n\nexport default function CurrentLocation() {\n  const [location, setLocation] = useState(null);\n  const [errorMsg, setErrorMsg] = useState(null);\n  const [currentLocation, setCurrentLocation] = useState(null);\n  const apiKey ='AIzaSyCYCYv-9mClxXa24AqTjaPcm9qS9EW2Uuc'\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    (async () => {\n      let { status } = await Location.requestForegroundPermissionsAsync();\n      if (status !== 'granted') {\n        setErrorMsg('Permission to access location was denied');\n        return;\n      }\n\n\n      Location.setGoogleApiKey(apiKey)\n      let location = await Location.getCurrentPositionAsync({});\n      let geocode = await Location.reverseGeocodeAsync(location.coords);\n      setLocation(location);\n      setCurrentLocation(geocode)\n    })();\n  }, []);\n\n  let text = 'Waiting..';\n\n  if (errorMsg) {\n    text = errorMsg;\n  } else if (location) {\n    text = JSON.stringify(location);\n  }\n\n  const userLocation=() => {\n    if(currentLocation){\n      dispatch({ type: 'UPDATE_USER_INFORMATION',\n    value: {\n       location: currentLocation[0].city+'/'+currentLocation[0].country\n    } })\n    return(\n      <Text style={styles.paragraph}>\n        {\n        currentLocation[0].city+'/'+currentLocation[0].country\n        }\n        </Text>\n    )\n    }\n\n}\n\n  return (\n    <View style={styles.container}>\n      {userLocation}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'center',\n      padding: 20,\n    },\n    paragraph: {\n      fontSize: 18,\n      textAlign: 'center',\n    },\n  });"]},"metadata":{},"sourceType":"module"}